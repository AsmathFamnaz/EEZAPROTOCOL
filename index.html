<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>The Final Gate — EEZA Protocol</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400;600&display=swap');

  body {
    margin: 0;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: url('background.png') center/cover no-repeat;
    font-family: 'Inter', sans-serif;
    color: #e6eef8;
    overflow: hidden;
  }

  /* Subtle glass card effect */
  .card {
    background: rgba(15, 23, 36, 0.7);
    border: 1px solid rgba(125, 211, 252, 0.2);
    box-shadow: 0 0 30px rgba(125, 211, 252, 0.2);
    padding: 32px 40px;
    border-radius: 16px;
    backdrop-filter: blur(12px);
    text-align: center;
    max-width: 480px;
    width: 90%;
    animation: fadeIn 2s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  h3 {
    font-family: 'Orbitron', sans-serif;
    letter-spacing: 2px;
    color: #7dd3fc;
    font-size: 1.6rem;
    margin-bottom: 20px;
    text-shadow: 0 0 10px #38bdf8;
  }

  #timerDisplay {
    font-family: 'Orbitron', sans-serif;
    font-size: 28px;
    font-weight: bold;
    color: #ff6b6b;
    text-shadow: 0 0 12px #ff0000;
    margin-bottom: 20px;
  }

  label {
    font-weight: 600;
    color: #aee0ff;
  }

  select, input {
    width: 80%;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid rgba(255,255,255,0.2);
    background: rgba(255,255,255,0.1);
    color: #e6eef8;
    font-size: 15px;
    margin-top: 6px;
    margin-bottom: 14px;
    outline: none;
    transition: 0.3s;
  }

  select:focus, input:focus {
    border-color: #7dd3fc;
    box-shadow: 0 0 8px #38bdf8;
  }

  button {
    margin-top: 8px;
    padding: 12px 22px;
    font-size: 15px;
    border: none;
    border-radius: 8px;
    background: linear-gradient(90deg, #38bdf8, #7dd3fc);
    color: #0f1724;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s ease;
    text-transform: uppercase;
  }

  button:hover {
    background: linear-gradient(90deg, #7dd3fc, #38bdf8);
    box-shadow: 0 0 15px #38bdf8;
    transform: scale(1.05);
  }

  /* ACCESS GRANTED animation */
  .virus-banner {
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    font-family: 'Orbitron', sans-serif;
    font-weight: 700;
    letter-spacing: 3px;
    text-transform: uppercase;
    background: none;
    color: #b8ffb2;
    text-shadow: 0 0 20px #00ff66, 0 0 50px #00ff66;
    display: none;
    animation: flickerMove 1.4s infinite;
    z-index: 1000;
  }

  .virus-banner.show { display: block; }

  @keyframes flickerMove {
    0%, 100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    50% { opacity: 0.7; transform: translate(-50%, -52%) scale(1.02); }
  }

</style>
</head>
<body>
  <div class="card">
    <div id="timerDisplay">Time Left: 15:00</div>
    <h3>THE FINAL GATE</h3>
    <form id="finalForm" autocomplete="off" onsubmit="return false">
      <label>Select Group</label><br>
      <select id="groupSelect">
        <option value="">-- Choose Group --</option>
        <option value="1">Group 1</option>
        <option value="2">Group 2</option>
        <option value="3">Group 3</option>
        <option value="4">Group 4</option>
        <option value="5">Group 5</option>
        <option value="6">Group 6</option>
      </select><br>
      <button id="startBtn" type="button">Start Timer</button><br>
      <input id="secretCode" type="text" maxlength="20" placeholder="Enter your secret code" required /><br>
      <button id="checkBtn" type="button">Validate Code</button>
    </form>
  </div>

  <div id="virus" class="virus-banner">
    <p style="font-size:80px;">ACCESS GRANTED</p>
    <p style="font-size:28px;">Network Restored</p>
  </div>

<script>
(() => {
  const VALID_CODES = {1:"CRYPTO",2:"SECRET",3:"OMEGA9",4:"ZENIX42",5:"SPY2025",6:"REDWALL"};
  const groupSelect = document.getElementById('groupSelect');
  const secretCode = document.getElementById('secretCode');
  const virus = document.getElementById('virus');
  const timerDisplay = document.getElementById('timerDisplay');
  const startBtn = document.getElementById('startBtn');

  let timeLeft = 15*60;
  let timer = null;
  let groupKey = null;

  function formatTime(t) {
    const m = Math.floor(t/60), s = t%60;
    return `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
  }

  function updateTimerDisplay() {
    timerDisplay.textContent = `Time Left: ${formatTime(timeLeft)}`;
  }

  function startCountdown() {
    if (!groupKey) return alert("Select a group first!");
    if (timer) clearInterval(timer);
    timer = setInterval(() => {
      if (timeLeft > 0) {
        timeLeft--;
        saveTimer();
        updateTimerDisplay();
      } else {
        clearInterval(timer);
        timerDisplay.textContent = '⛔ Time Over!';
      }
    }, 1000);
  }

  function saveTimer() {
    if (!groupKey) return;
    const data = JSON.parse(localStora
